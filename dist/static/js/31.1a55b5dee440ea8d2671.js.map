{"version":3,"sources":["webpack:///./src/pages/login/sign.vue?78ff","webpack:///./src/pages/login/sign.vue?7d18","webpack:///./src/pages/login/sign.vue"],"names":["_super","Sign","_this","apply","this","arguments","loginName","password","repassword","code","isGetverify","timerNum","timer","recommontId","tslib_es6","prototype","timelop","self","console","log","setInterval","clearInterval","setLoginVerifyCode","getVistyCode","vue_esm","$reqFormPost","mobile","type","res","data","status","message","Object","es","vistyText","$store","getters","MutationTreeType","VERCODE","doSign","__webpack_require__","createHash","update","digest","$router","push","handlePX","CssName","PxNumber","SYSTEM","availWidth","mounted","$route","query","lib","vue_class_component_common_default","components","comhead","Comhead","mixins","mixin","login_sign","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","isLeftIcon","title","rightTitle","on","leftClick","_v","style","staticStyle","text-align","placeholder","model","value","callback","$$v","expression","slot","size","click","$event","_s","margin","block","_m","staticRenderFns","color","href","Component","normalizeComponent","sign","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/31.1a55b5dee440ea8d2671.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport mixin from \"../../config/mixin\";\nimport { Action } from \"vuex-class\";\nimport { Toast } from \"vant\";\nimport comhead from \"../../components/Comhead.vue\";\n\n// import { recommendList } from '../../service/getData';\n\n@Component({\n  components: {\n    comhead\n  },\n  mixins: [mixin]\n})\nexport default class Sign extends Vue {\n  @Action(\"setLoginVerifyCode\") setLoginVerifyCode;\n  loginName = \"\";\n  password = \"\";\n  repassword = \"\";\n  code = \"\";\n  isGetverify = true; //当前允许发送验证码\n  timerNum = 60;\n  timer = 60;\n  recommontId='';\n  timelop() {\n    let self = this;\n\n    console.log(\"获取验证码\");\n    self.timer = setInterval(function() {\n      self.isGetverify = true;\n      if (self.timerNum >= 1) {\n        self.timerNum--;\n      } else {\n        clearInterval(self.timer);\n        self.timerNum = 60;\n      }\n      // let verInfo={\n      //       type : 'setsign',\n      //       num : self.timerNum\n      //   }\n      self.setLoginVerifyCode(self.timerNum);\n\n      console.log(self.timerNum);\n    }, 1000);\n  }\n\n  getVistyCode() {\n    //验证手机号码\n\n    if (!this.isGetverify) {\n      return;\n    }\n\n    //getCode\n    Vue.prototype.$reqFormPost(\n      \"/auth/getsmscode\",\n      { mobile: this.loginName,type:'REGISTER' },\n      res => {\n        if (res == null) {\n          console.log(\"网络请求错误！\");\n          return;\n        }\n        if (res.data.status != 200) {\n          console.log(\n            \"需控制错误码\" + res.data.status + \",错误信息：\" + res.data.message\n          );\n          Toast(res.data.message);\n\n          return;\n        }\n        Toast(\"发送成功\");\n        this.timelop();\n      }\n    );\n  }\n  vistyText() {\n    if (this.$store.getters[Vue.prototype.MutationTreeType.VERCODE] < 60) {\n      this.isGetverify = false;\n      return this.$store.getters[Vue.prototype.MutationTreeType.VERCODE] + \"s\";\n    } else {\n      this.isGetverify = true;\n      return \"获取验证码\";\n    }\n  }\n  doSign() {\n    //验证\n\n    Vue.prototype.$reqFormPost(\n      \"/auth/register\",\n      {\n        loginName: this.loginName,\n        password: require('crypto').createHash('md5').update(this.password).digest('hex'),\n        code: this.code,\n        recommontId: this.recommontId //推荐者ID\n      },\n      res => {\n        if (res == null) {\n          console.log(\"网络请求错误！\");\n          return;\n        }\n        if (res.data.status != 200) {\n          Toast(res.data.message);\n\n          return;\n        }\n        Toast(\"注册成功\");\n        this.$router.push(\"/login\");\n      }\n    );\n  }\n  handlePX(CssName, PxNumber) {\n    return (\n      CssName +\n      \":\" +\n      this.$store.getters[Vue.prototype.MutationTreeType.SYSTEM].availWidth /\n        750 *\n        PxNumber +\n      \"px;\"\n    );\n  }\n  mounted() {\n    this.recommontId =  this.$route.query.recommontId?this.$route.query.recommontId:''\n    if (this.$store.getters[Vue.prototype.MutationTreeType.VERCODE] < 60) {\n      this.timerNum = this.$store.getters[\n        Vue.prototype.MutationTreeType.VERCODE\n      ];\n      // this.isGetverify= true;\n      this.timelop();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/pages/login/sign.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-contents\"},[_c('comhead',{ref:\"comhead\",attrs:{\"isLeftIcon\":\"icon-zuo\",\"title\":\"用户注册\",\"rightTitle\":\"编辑\"},on:{\"leftClick\":false}}),_vm._v(\" \"),_c('div',{staticClass:\"bodyLabel\",style:(_vm.handlePX('padding-top',80))},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('van-field',{staticClass:\"sign-input\",style:(_vm.handlePX('width',620)+_vm.handlePX('margin-bottom',36)+_vm.handlePX('height',90)),attrs:{\"type\":\"number\",\"placeholder\":\"请输入手机号码\"},model:{value:(_vm.loginName),callback:function ($$v) {_vm.loginName=$$v},expression:\"loginName\"}}),_vm._v(\" \"),_c('div',{staticClass:\"sign-code-group\"},[_c('van-field',{staticClass:\"sign-input\",style:(_vm.handlePX('width',295)+_vm.handlePX('height',90)),attrs:{\"placeholder\":\"请输入验证码\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_vm._v(\" \"),_c('van-button',{staticClass:\"sign-mini-button\",style:(_vm.handlePX('width',295)+_vm.handlePX('height',90)),attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.getVistyCode()}},slot:\"button\"},[_vm._v(_vm._s(_vm.vistyText()))])],1),_vm._v(\" \"),_c('van-field',{staticClass:\"sign-input\",style:(_vm.handlePX('width',620)+_vm.handlePX('margin-top',36)+_vm.handlePX('height',90)),attrs:{\"type\":\"password\",\"placeholder\":\"输入6-12位密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('van-field',{staticClass:\"sign-input\",style:(_vm.handlePX('width',620)+_vm.handlePX('margin-top',36)+_vm.handlePX('height',90)),attrs:{\"type\":\"password\",\"placeholder\":\"请确认密码\"},model:{value:(_vm.repassword),callback:function ($$v) {_vm.repassword=$$v},expression:\"repassword\"}}),_vm._v(\" \"),_c('van-button',{staticClass:\"sign-button\",staticStyle:{\"margin\":\"20px 0\"},style:(_vm.handlePX('width',620)+_vm.handlePX('margin-top',390)+_vm.handlePX('height',90)),attrs:{\"size\":\"normal\",\"block\":true},on:{\"click\":function($event){_vm.doSign()}}},[_vm._v(\"立即注册\")]),_vm._v(\" \"),_vm._m(0)],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticStyle:{\"color\":\"#d2d2d2\"}},[_vm._v(\"注册表示您同意\"),_c('a',{staticStyle:{\"color\":\"#f4c542\"},attrs:{\"href\":\"#\"}},[_vm._v(\"《用户协议》\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5491af2e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/sign.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5491af2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sign.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sign.vue\"\nimport __vue_script__ from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sign.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5491af2e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sign.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5491af2e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/sign.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}