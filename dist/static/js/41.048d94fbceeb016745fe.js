webpackJsonp([41],{afYQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("TToO"),a=i("7+uW"),r=i("c+8m"),o=i.n(r),n=i("DZ+H"),d=i("ymRw"),l=i("h1Nz"),c=i("au/Y"),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prepareId="",e.shopCartList=[],e.address={},e.totalPrice="",e.goodsSum="",e.freight="",e.pageType="",e.titlevalue="",e.couponId="",e.titleType="",e.invoiceTitle="",e.invoiceNo="",e.remark="",e}return s.c(e,t),e.prototype.getPreInfo=function(t){var e=this;a.default.prototype.$reqFormPost1("/prepare/order/query",{userId:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].token,prepareId:t},function(t){if(200!==t.returnCode)return e.$Message.warning(t.message),void console.log("网络请求错误！");e.shopCartList=t.data.shopCartList,e.address=t.data.address,console.log("address",e.address),e.totalPrice=t.data.totalPrice,e.goodsSum=t.data.goodsSum,e.freight=t.data.freight})},e.prototype.onSubmit=function(){var t=this;this.address?a.default.prototype.$reqFormPost("/prepare/order/submit",{userId:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].token,couponId:this.couponId,titleType:this.titleType,invoiceTitle:this.invoiceTitle,invoiceNo:this.invoiceNo,prepareId:this.prepareId,remark:this.remark},function(e){if(null!=e){if(200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(d.Toast)(e.data.message);t.$router.replace({name:"pay",query:{contactname:t.address.contactname,contactmobile:t.address.contactmobile,address:t.address.province+t.address.city+t.address.country+t.address.address,body:e.data.data.body,payId:e.data.data.payId,payTotal:e.data.data.payTotal}}),console.log(e.data.data)}else console.log("网络请求错误！")}):this.$Message.warning("请选择一个收货地址")},e.prototype.mounted=function(){this.prepareId=this.$store.getters[a.default.prototype.MutationTreeType.PREPAREID],this.getPreInfo(this.$store.getters[a.default.prototype.MutationTreeType.PREPAREID])},e=s.b([o()({components:{Wintabe:l.a,Winbeet:c.a},mixins:[n.a]})],e)}(a.default),p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tab-contents"},[i("wintabe",{ref:"wintabe",attrs:{table:!0,router:!0}}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:" flex   flex-pack-center "},[i("div",{staticClass:"contentBox2 "},[t.address?i("div",{staticStyle:{"line-height":"32px",margin:"20px","border-bottom":"1px solid #e5e5e5"}},[i("i",{staticClass:"iconfont icon-location"}),t._v(" "),i("div",{staticClass:"flex"},[i("div",{staticClass:"content_title"},[t._v("收货人：")]),t._v(" "),i("div",[t._v(t._s(t.address.contactname))])]),t._v(" "),i("div",{staticClass:"flex"},[i("div",{staticClass:"content_title"},[t._v("联系方式：")]),t._v(" "),i("div",[t._v(t._s(t.address.contactmobile))])]),t._v(" "),i("div",{staticClass:"flex"},[i("div",{staticClass:"content_title"},[t._v("收货地址：")]),t._v(" "),i("div",[t._v(t._s(t.address.province)+t._s(t.address.city)+t._s(t.address.country)+t._s(t.address.address))])])]):t._e(),t._v(" "),i("div",{staticStyle:{padding:"30px 20px"}},[i("van-button",{staticStyle:{"border-radius":"4%","background-color":"#fff",color:"red",border:"1px solid red","min-width":"150px","margin-right":"10px",overflow:"hidden"}},[t._v("地址切换")]),t._v(" "),i("van-button",{staticStyle:{"border-radius":"4%","background-color":"#fff",color:"#F4C542",border:"1px solid #F4C542","min-width":"150px","margin-right":"10px",overflow:"hidden"}},[t._v("新建地址")])],1)])]),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:" flex   flex-pack-center "},[i("div",{staticClass:"contentBox2 "},[t._l(t.shopCartList,function(e,s){return i("div",{staticClass:"cartItem flex  flex-align-center flex-pack-justify"},[i("div",{staticClass:"flex flex-pack-center flex-align-center",staticStyle:{width:"80px",margin:"0 10px 0 20px",overflow:"hidden"}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsImg.split(",")[0],expression:"item.goodsImg.split(',')[0]"}],staticStyle:{width:"100%",border:"1px solid #EAEAEA"}})]),t._v(" "),i("div",{staticStyle:{overflow:"hidden",width:"200px"}},[i("div",[i("span",{staticClass:"textLabel",staticStyle:{color:"#000000","font-size":"15px"}},[t._v(t._s(e.goodsName))])]),t._v(" "),i("div",{staticClass:"textLabel",staticStyle:{color:"#666"}},[e.skuKeyValue.length>2?i("span",t._l(JSON.parse(e.skuKeyValue),function(s){return i("span",{staticStyle:{"margin-right":"10px"}},[i("span",[t._v(t._s(s.key)+":"+t._s(s.value)+" X "+t._s(e.num))])])})):i("span",[t._v("\n          X "+t._s(e.num)+"\n        ")])])]),t._v(" "),i("div",[i("span",{staticStyle:{"font-size":"20"}},[t._v("￥"+t._s(e.price))])]),t._v(" "),i("div",{},[t._v("\n  "+t._s(e.num)+"\n")]),t._v(" "),i("div",[i("span",{staticClass:"marketPrice",staticStyle:{"font-size":"20"}},[t._v("￥"+t._s((e.price*e.num).toFixed(2)))])])])}),t._v(" "),i("div",{staticStyle:{"background-color":"#FCFCFC",padding:"0 30px","font-size":"14.8px"}},[i("div",{staticClass:"flex flex-pack-justify",staticStyle:{"line-height":"30px","border-bottom":"1px #e5e5e5 solid"}},[t._m(2),t._v(" "),i("div",[i("div",{staticClass:"flex"},[i("div",[t._v("商品合计：")]),i("div",[t._v("￥"+t._s(t.totalPrice))])]),t._v(" "),i("div",{staticClass:"flex"},[i("div",[t._v("运费：")]),i("div",[t._v(t._s(t.freight))])])])]),t._v(" "),i("div",[t._m(3),t._v(" "),t._m(4),t._v(" "),i("div",{staticClass:"flex flex-pack-justify flex-align-center",staticStyle:{padding:"20px 0"}},[i("div",[t._v("应付金额")]),t._v(" "),i("div",{staticClass:"flex flex-align-center"},[i("div",{staticStyle:{padding:"0 20px"}},[i("span",{staticStyle:{color:"red","font-size":"18px"}},[t._v("￥"+t._s(t.totalPrice))])]),t._v(" "),i("div",{staticClass:"flex flex-align-center flex-pack-center pointer",staticStyle:{"background-color":"#F4C542","border-color":"#F4C542",color:"#FFFFFF","min-width":"120px",height:"42px","font-size":"16px"},on:{click:t.onSubmit}},[i("span",[t._v("去付款")])])])])])])],2)]),t._v(" "),i("winbeet")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:" flex   flex-pack-center"},[e("div",{staticStyle:{width:"60%"}},[e("div",{staticClass:"flex  flex-align-center",staticStyle:{width:"100%","background-color":"#f7f7f7",height:"47px",padding:"0 10px","margin-bottom":"10px"}},[this._v("\n  收货信息\n")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:" flex   flex-pack-center "},[i("div",{staticStyle:{width:"60%"}},[i("div",{staticClass:"flex flex-pack-justify flex-align-center",staticStyle:{width:"100%","background-color":"#f7f7f7",height:"47px",padding:"0 10px","margin-bottom":"10px"}},[i("div",{staticStyle:{width:"70px","margin-left":"40px"}},[t._v("商品信息")]),t._v(" "),i("div",{staticStyle:{width:"230px"}}),t._v(" "),i("div",{staticStyle:{margin:"0 20px"}},[t._v("单价")]),t._v(" "),i("div",{staticStyle:{margin:"0 20px"}},[t._v("数量")]),t._v(" "),i("div",{staticStyle:{margin:"0 20px"}},[t._v("小计")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticStyle:{color:"#666"}},[this._v("配送方式")]),this._v(" "),e("div",[this._v("快递")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","line-height":"40px"}},[this._v("给卖家的话（选填） "),e("span",{staticStyle:{margin:"0 20px",color:"#999"}},[this._v("选填内容已和卖家协商确认")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{border:"1px solid #e5e5e5"}},[e("textarea",{staticStyle:{width:"100%",border:"none"},attrs:{type:"text",name:"content",rows:"7"}})])}]};var f=i("VU/8")(v,p,!1,function(t){i("cPTv")},"data-v-0d88ecf2",null);e.default=f.exports},cPTv:function(t,e){}});
//# sourceMappingURL=41.048d94fbceeb016745fe.js.map