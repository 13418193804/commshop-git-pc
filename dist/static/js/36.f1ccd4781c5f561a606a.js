webpackJsonp([36],{"3uSt":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("TToO"),s=a("7+uW"),o=a("c+8m"),l=a.n(o),n=a("gN+L"),d=a("DZ+H"),r=a("TJML"),c=a("ymRw"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.secCategoryItem={},e.list=[],e.loading=!1,e.finished=!1,e.selectIndex="",e.catlist="",e.goodsList=[],e.catId="",e.parentCatId="",e.pageIndex=20,e.title="",e}return i.c(e,t),e.prototype.goProductDetail=function(t){this.$router.push({path:"/productdetail",query:{goodsId:t}})},e.prototype.selectCatItem=function(t){var e=this.catlist[t];e.catId!=this.catId&&(this.goodsList=[],this.pageIndex=20),this.catId=e.catId,this.selectIndex=t,this.getProductList(),this.$router.replace({path:"/productlist",query:{catId:this.catId,parentCatId:this.parentCatId,selectIndex:t,title:this.title}})},e.prototype.loadMore=function(){var t=this;this.loading=!0;setTimeout(function(){t.pageIndex+=20,t.getProductList()},1e3)},e.prototype.getProductList=function(){var t=this;s.default.prototype.$reqFormPost("/user/goods/list",{catId:this.catId,page:0,pageSize:this.pageIndex},function(e){if(null!=e)return 200!=e.data.status?(console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(c.Toast)(e.data.message)):void(t.loading&&(t.goodsList=e.data.data.goodsList,e.data.data.goodsList.length!=t.pageIndex&&(t.loading=!1)));console.log("网络请求错误！")})},e.prototype.getCategoryList=function(){var t=this;s.default.prototype.$reqFormPost("/user/cat/list",{parentId:this.parentCatId},function(e){if(null!=e){if(200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(c.Toast)(e.data.message);t.catlist=e.data.data,console.log("getCategoryList",e.data.data)}else console.log("网络请求错误！")})},e.prototype.mounted=function(){this.catId=this.$route.query.catId,this.getProductList(),this.parentCatId=this.$route.query.parentCatId,this.getCategoryList(),this.selectIndex=this.$route.query.selectIndex,this.title=this.$route.query.title},e.prototype.handlePX=function(t,e){return t+":"+this.$store.getters[s.default.prototype.MutationTreeType.SYSTEM].availWidth/750*e+"px;"},e=i.b([l()({components:{Swipe:n.a,comhead:r.a},mixins:[d.a]})],e)}(s.default),u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tab-contents"},[i("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",title:t.title,isRightIcon:"true"},on:{leftClick:!1}}),t._v(" "),i("van-tabs",{attrs:{active:t.selectIndex},on:{click:t.selectCatItem}},t._l(t.catlist,function(e,s){return i("van-tab",{key:s,attrs:{title:e.catName}},[t.selectIndex==s?i("div",[i("div",{staticStyle:{"background-color":"#f7f7f7",height:"10px"}}),t._v(" "),i("div",{staticStyle:{color:"#000000","text-align":"center"},style:t.handlePX("line-height",100)+t.handlePX("font-size",32)},[t._v(t._s(t.catlist[t.selectIndex].catName))]),t._v(" "),i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[i("li",[i("van-row",t._l(t.goodsList,function(e,s){return i("van-col",{key:s,attrs:{span:"12"}},[i("div",{staticClass:"bodyItem flex flex-pack-center",style:t.handlePX("margin-bottom",50),on:{click:function(a){t.goProductDetail(e.goodsId)}}},[i("div",{staticStyle:{overflow:"hidden"}},[i("div",{staticClass:"flex flex-pack-center flex-align-center",staticStyle:{border:"1px #e5e5e5 solid","box-sizing":"border-box",overflow:"hidden",position:"relative",margin:"5px auto"},style:t.handlePX("height",410)+t.handlePX("width",345)},[i("img",{staticStyle:{width:"-webkit-fill-available",position:"absolute",top:"0",left:"0"},style:t.handlePX("width",43)+t.handlePX("height",49),attrs:{src:a("HORy")}}),t._v(" "),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsImg.split(",")[0],expression:"item.goodsImg.split(',')[0]"}],staticStyle:{width:"-webkit-fill-available",position:"absolute",top:"0","z-index":"-1"}}),t._v(" "),i("div",{staticClass:"textLabel",staticStyle:{position:"absolute",bottom:"0",width:"100%","background-color":"rgba(207,207,207,0.3)","text-align":"center",color:"#A3A3A3"},style:t.handlePX("height",70)+t.handlePX("line-height",70)+t.handlePX("font-size",28)},[t._v(t._s(e.jingle))])]),t._v(" "),i("div",{staticStyle:{margin:"0 5px"}},[i("div",[i("img",{style:t.handlePX("width",52)+t.handlePX("height",25),attrs:{src:a("ILWi")}}),t._v(" "),i("img",{style:t.handlePX("width",52)+t.handlePX("height",25),attrs:{src:a("tp/U")}})]),t._v(" "),i("div",{staticClass:"textLabel",staticStyle:{color:"#000000"},style:t.handlePX("font-size",28)},[t._v(t._s(e.goodsName))]),t._v(" "),i("div",{staticStyle:{color:"#E05459"},style:t.handlePX("font-size",30)},[t._v("￥"+t._s(e.marketPrice))])])])])])}))],1)])]):t._e()])})),t._v(" "),i("div",{staticClass:"flex flex-pack-center flex-align-center",staticStyle:{"font-size":"14px",padding:"15px"}},[t.loading?i("div",[t._v("-")]):i("div",[t._v("加载中...")])])],1)},staticRenderFns:[]};var g=a("VU/8")(h,u,!1,function(t){a("r3ZL")},"data-v-5b90a33d",null);e.default=g.exports},r3ZL:function(t,e){}});
//# sourceMappingURL=36.f1ccd4781c5f561a606a.js.map