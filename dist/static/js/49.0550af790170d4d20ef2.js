webpackJsonp([49],{"03KI":function(t,e){},NcgL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("TToO"),i=s("7+uW"),r=s("c+8m"),n=s.n(r),a=s("ipus"),c=s("VU/8")(null,null,!1,null,null,null).exports,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hotkeys=null,e.data="",e.keyword="",e.getLastKeyword="",e.fetching=!1,e.isLoad=!0,e.page=1,e.isShowCancel=!1,e.isShowDelete=!1,e.isShowHistory=!1,e.isShowSearchResults=!1,e.songsObject={},e.searchResult=null,e.history=[],e.isGetHotKey=!1,e}return o.c(e,t),Object.defineProperty(e.prototype,"song",{get:function(){return this.$store.state.song},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"artist",{get:function(){return this.$store.state.artist},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShowPlayer",{get:function(){return this.$store.state.isShowPlayer},enumerable:!0,configurable:!0}),e.prototype.created=function(){},e.prototype.mounted=function(){window.addEventListener("scroll",this.onScroll.bind(this)),this.history=localStorage.getItem("SET_HISTORY_KEY")?localStorage.getItem("SET_HISTORY_KEY").split(","):[]},e.prototype.enter=function(t){this.keyword?this.isShowDelete=!0:(this.isShowDelete=!1,this.reset()),13===t.keyCode&&(this.isShowHistory=!1,this.isShowSearchResults=!0,this.addHistory(this.keyword),this.search(this.keyword))},e.prototype.onClick=function(t){if(t.target.matches("#search")&&(this.isShowCancel=!0,this.isShowHistory=!0),t.target.matches(".search-cancel")&&(this.isShowCancel=!1,this.isShowDelete=!1,this.isShowHistory=!1,this.reset()),t.target.matches(".icon-delete")&&(this.isShowDelete=!1,this.reset()),t.target.matches(".record-delete")&&(this.history=[],this.setLocalStorageData(this.history)),t.target.matches(".icon .icon-close")){var e=this.history.indexOf(t.target.previousElementSibling.innerHTML);this.history.splice(e,1),this.setLocalStorageData(this.history)}(t.target.matches(".tag-keyword")||t.target.matches(".record-con"))&&(this.keyword=t.target.innerHTML,this.isShowDelete=!0,this.isShowCancel=!0,this.isShowHistory=!1,this.isShowSearchResults=!0,this.addHistory(this.keyword),this.search(this.keyword))},e.prototype.search=function(t,e){void 0===t&&(t=""),""!==t&&(this.getLastKeyword===t&&this.songsObject[e||this.page]||(this.getLastKeyword!==t&&this.reset(),!this.fetching&&this.isLoad&&(this.getLastKeyword=t,this.loading())))},e.prototype.onScroll=function(t){if(!this.isLoad)return window.removeEventListener("scroll",this.onScroll.bind(this));document.documentElement.clientHeight+pageYOffset>document.body.scrollHeight-100&&this.search(this.keyword,this.page+1)},e.prototype.accomplish=function(){this.fetching=!1},e.prototype.loading=function(){this.fetching=!0},e.prototype.reset=function(){this.page=1,this.isLoad=!0,this.songsObject={},this.searchResult=null},e.prototype.addHistory=function(t){-1===this.history.indexOf(t)&&(this.history.unshift(t),this.setLocalStorageData(this.history))},e.prototype.shuffle=function(t,e){for(var s=[],o=Math.min(e,t.length),i=0;i<o;i++){var r=t,n=Math.floor(Math.random()*r.length);s[i]=r[n],t.splice(n,1)}return s},e.prototype.showPlayerDetail=function(t){this.showPlayer(),this.getSong(o.a({},t))},o.b([Object(a.a)("setLocalStorageData")],e.prototype,"setLocalStorageData",void 0),o.b([Object(a.a)("showPlayer")],e.prototype,"showPlayer",void 0),o.b([Object(a.a)("getSong")],e.prototype,"getSong",void 0),e=o.b([n()({components:{Player:c}})],e)}(i.default),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-contents"},[s("div",{staticClass:"search-view tab-content",on:{click:function(e){t.onClick(e)}}},[s("div",{staticClass:"search-bar"},[s("div",{staticClass:"input-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyword,expression:"keyword",modifiers:{trim:!0}}],attrs:{type:"text",id:"search",placeholder:"搜索歌曲、歌单、专辑"},domProps:{value:t.keyword},on:{keyup:function(e){t.enter(e)},input:function(e){e.target.composing||(t.keyword=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("span",{staticClass:"icon-search"}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowDelete,expression:"isShowDelete"}],staticClass:"icon-delete"},[t._v("删除")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCancel,expression:"isShowCancel"}],staticClass:"search-cancel"},[t._v("取消")])]),t._v(" "),t.history.length>0&&t.isShowHistory?s("div",{staticClass:"record-keys"},[t._l(t.history,function(e){return s("li",[s("div",{staticClass:"record-main"},[s("span",{staticClass:"icon icon-clock"}),t._v(" "),s("span",{staticClass:"record-con ellipsis"},[t._v(t._s(e))]),t._v(" "),s("span",{staticClass:"icon icon-close"})])])}),t._v(" "),s("p",{staticClass:"record-delete"},[t._v("清除搜索记录")])],2):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearchResults,expression:"isShowSearchResults"}],staticClass:"search-results"},[s("div",{staticClass:"song-list"},t._l(t.searchResult,function(e){return s("div",{key:e.songid,staticClass:"song-item",on:{click:function(s){t.showPlayerDetail(e)}}},[s("i",{staticClass:"icon icon-music"}),t._v(" "),s("div",{staticClass:"song-name",domProps:{innerHTML:t._s(e.songname)}}),t._v(" "),s("div",{staticClass:"song-artist"},t._l(e.singer,function(e){return s("span",{domProps:{innerHTML:t._s(e.name+"&nbsp;")}})}))])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.fetching,expression:"fetching"}],staticClass:"search-loading show"},[s("i",{staticClass:"loading-icon"}),t._v(" "),s("div",{staticClass:"loading-text"},[t._v("正在载入更多...")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoad,expression:"!isLoad"}],staticClass:"search-loading show"},[s("div",{staticClass:"loading-done"},[t._v("已加载全部")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowHistory&&!t.isShowSearchResults,expression:"!isShowHistory && !isShowSearchResults"}],staticClass:"mod-search-result",attrs:{id:"hot-keys"}},[s("h3",{staticClass:"result-tit"},[t._v("热门搜索")]),t._v(" "),t.isGetHotKey?s("div",{staticClass:"result-tags"},[t.data.special_url?s("a",{staticClass:"tag tag-hot",attrs:{href:t.data.special_url}},[t._v(t._s(t.data.special_key))]):t._e(),t._v(" "),t._l(t.hotkeys,function(e){return s("div",{key:e.n,staticClass:"tag tag-keyword"},[t._v(t._s(e.k))])})],2):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isGetHotKey,expression:"!isGetHotKey"}],staticClass:"search-loading show"},[s("i",{staticClass:"loading-icon"}),t._v(" "),s("div",{staticClass:"loading-text"},[t._v("正在加载...")])])])]),t._v(" "),t.isShowPlayer?s("player",{attrs:{song:t.song,artist:t.artist}}):t._e()],1)},staticRenderFns:[]};var u=s("VU/8")(h,l,!1,function(t){s("03KI")},"data-v-c6713494",null);e.default=u.exports},"c+8m":function(t,e,s){"use strict";
/**
  * vue-class-component v6.2.0
  * (c) 2015-present Evan You
  * @license MIT
  */Object.defineProperty(e,"__esModule",{value:!0});var o,i=(o=s("7+uW"))&&"object"==typeof o&&"default"in o?o.default:o,r={__proto__:[]}instanceof Array;var n=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured"];function a(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var s=t.prototype;Object.getOwnPropertyNames(s).forEach(function(t){if("constructor"!==t)if(n.indexOf(t)>-1)e[t]=s[t];else{var o=Object.getOwnPropertyDescriptor(s,t);"function"==typeof o.value?(e.methods||(e.methods={}))[t]=o.value:(o.get||o.set)&&((e.computed||(e.computed={}))[t]={get:o.get,set:o.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e){var s=e.prototype._init;e.prototype._init=function(){var e=this,s=Object.getOwnPropertyNames(t);if(t.$options.props)for(var o in t.$options.props)t.hasOwnProperty(o)||s.push(o);s.forEach(function(s){"_"!==s.charAt(0)&&Object.defineProperty(e,s,{get:function(){return t[s]},set:function(e){return t[s]=e},configurable:!0})})};var o=new e;e.prototype._init=s;var i={};return Object.keys(o).forEach(function(t){void 0!==o[t]&&(i[t]=o[t])}),i}(this,t)}});var o=t.__decorators__;o&&(o.forEach(function(t){return t(e)}),delete t.__decorators__);var a=Object.getPrototypeOf(t.prototype),c=a instanceof i?a.constructor:i,h=c.extend(e);return function(t,e,s){Object.getOwnPropertyNames(e).forEach(function(o){if("prototype"!==o){var i=Object.getOwnPropertyDescriptor(t,o);if(!i||i.configurable){var n,a,c=Object.getOwnPropertyDescriptor(e,o);if(!r){if("cid"===o)return;var h=Object.getOwnPropertyDescriptor(s,o);if(n=c.value,a=typeof n,null!=n&&("object"===a||"function"===a)&&h&&h.value===c.value)return}0,Object.defineProperty(t,o,c)}}})}(h,t,c),h}function c(t){return"function"==typeof t?a(t):function(e){return a(e,t)}}!function(t){t.registerHooks=function(t){n.push.apply(n,t)}}(c||(c={}));var h=c;e.default=h,e.createDecorator=function(t){return function(e,s,o){var i="function"==typeof e?e:e.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof o&&(o=void 0),i.__decorators__.push(function(e){return t(e,s,o)})}},e.mixins=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.extend({mixins:t})}},ipus:function(t,e,s){"use strict";var o=s("c+8m"),i=s("NYxO"),r=l("computed",i.e),n=l("computed",i.c),a=l("methods",i.b),c=l("methods",i.d);function h(t,e){return function(s,o){if("string"==typeof o){var i=o,r=s;return e(i,{namespace:t})(r,i)}var n=s,a=function(t,e){var s={};return[t,e].forEach(function(t){Object.keys(t).forEach(function(e){s[e]=t[e]})}),s}(o||{},{namespace:t});return e(n,a)}}function l(t,e){function s(s,i){return Object(o.createDecorator)(function(o,r){o[t]||(o[t]={});var n,a=((n={})[r]=s,n);o[t][r]=void 0!==i?e(i,a)[r]:e(a)[r]})}return function(t,e){if("string"==typeof e){var o=e,i=t;return s(o,void 0)(i,o)}return s(t,function(t){var e=t&&t.namespace;if("string"==typeof e)return"/"!==e[e.length-1]?e+"/":e}(e))}}s.d(e,!1,function(){return r}),s.d(e,!1,function(){return n}),s.d(e,"a",function(){return a}),s.d(e,!1,function(){return c}),s.d(e,!1,function(){return h})}});
//# sourceMappingURL=49.0550af790170d4d20ef2.js.map