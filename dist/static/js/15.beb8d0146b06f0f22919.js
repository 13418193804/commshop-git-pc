webpackJsonp([15],{RSO2:function(t,e){},bnt3:function(t,e){},k6mo:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("TToO"),a=i("7+uW"),o=i("c+8m"),l=i.n(o),n=i("DZ+H"),r=i("Fd2+"),c=i("443i"),d=i("DNVT"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.c(e,t),e.prototype.goProductDetail=function(t){this.$emit("goProductDetail",t)},e.prototype.mounted=function(){new d.a(".swiper-container",{slidesPerView:"auto",spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0}})},s.b([Object(c.a)({required:!0})],e.prototype,"lists",void 0),e=s.b([l.a],e)}(a.default),p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swiper-container"},[i("div",{staticClass:"swiper-wrapper"},t._l(t.lists,function(e,s){return i("div",{key:s,staticClass:"swiper-slide",on:{click:function(i){t.goProductDetail(e.goodsId)}}},[i("div",{staticClass:"flex flex-pack-center flex-align-center",staticStyle:{width:"200px","margin-right":"20px","margin-top":"10px",border:"1px #e5e5e5 solid","box-sizing":"border-box",overflow:"hidden",position:"relative",padding:"100px"}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsImg.split(",")[0],expression:"items.goodsImg.split(',')[0]"}],staticStyle:{width:"-webkit-fill-available",position:"absolute",top:"0"}}),t._v(" "),i("div",{staticClass:"textLabel",staticStyle:{position:"absolute",bottom:"0",width:"100%","background-color":"rgba(207,207,207,0.3)","text-align":"center",color:"#A3A3A3",height:"28px","line-height":"28px"}},[t._v(t._s(e.jingle))])]),t._v(" "),i("div",{staticClass:"flex flex-pack-center flex-v",staticStyle:{width:"200px"}},[t._m(0,!0),t._v(" "),i("div",{staticClass:"textLabel",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.goodsName))]),t._v(" "),i("div",{staticStyle:{color:"#E05459","font-size":"15px"}},[t._v("￥"+t._s(e.marketPrice.toFixed(2)))])])])}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticStyle:{width:"35px",margin:"10px 0"},attrs:{src:i("ILWi")}}),this._v(" "),e("img",{staticStyle:{width:"35px",margin:"10px 0"},attrs:{src:i("tp/U")}})])}]};var v=i("VU/8")(u,p,!1,function(t){i("RSO2")},null,null).exports,g=i("h1Nz"),h=i("au/Y"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goodsId="",e.detatil={commentList:[],detail:{imageList:[]},goodsImg:"",goodsName:"",jingle:"",labelPrice:0,marketPrice:0,onlineStatus:"",sku:[],skuKey:[],storageNum:0},e.num=1,e.skuattr=[],e.chosenList=[],e.chosensku=[],e.skuItem={},e.appraiseList=[],e.status=1,e.commentnum=0,e.praise="0",e.tabindex=0,e.shop_active="0",e.new_active="0",e.btn_active="0",e.new_detatil=[],e.goCoupon=[],e.stars=[{src:i("fL+S"),active:!1},{src:i("fL+S"),active:!1},{src:i("fL+S"),active:!1},{src:i("fL+S"),active:!1},{src:i("fL+S"),active:!1}],e.scale=0,e.click="0",e.tabgoodslist=[],e.likeList=[],e.newList=[],e}return s.c(e,t),e.prototype.mounted=function(){this.goodsId=this.$route.query.goodsId,this.initPage()},e.prototype.initPage=function(){this.getProductDetail(),this.evaluateList()},e.prototype.selecttablist=function(t){this.tabgoodslist=[],0==t&&(this.tabgoodslist=this.likeList,this.tabindex=0),1==t&&(this.tabgoodslist=this.newList,this.tabindex=1)},e.prototype.new_actdiv=function(t){this.new_active=t,console.log("新品",this.new_active)},e.prototype.goProductDetail=function(t){sessionStorage.goodsId=t,this.$router.push({path:"/productDetail",query:{goodsId:t}}),this.initPage()},e.prototype.evaluateList=function(){var t=this;a.default.prototype.$reqFormPost1("/comment/list",{goodsId:this.goodsId,status:this.btn_active},function(e){console.log(e),200==e.returnCode?t.appraiseList=e.data.commentList:t.$Message.warning(e.message)})},e.prototype.btnList=function(t){this.btn_active=t,this.evaluateList()},e.prototype.addCar=function(){var t=this;this.skuItem.skuId?a.default.prototype.$reqFormPost("/prepare/order/direct",{userId:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId,skuId:this.skuItem.skuId,num:this.num},function(e){if(null!=e){if(console.log(e),200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(r.b)(e.data.message);t.$store.commit(a.default.prototype.MutationTreeType.PREPAREID,e.data.data.prepareId),t.$router.push({path:"/settle"}),console.log("预支付订单ID",e.data.data.prepareId)}else console.log("网络请求错误！")}):Object(r.b)("请选择规格属性")},e.prototype.goDiscount=function(){this.$router.push({path:"/discount"})},e.prototype.updataCollect=function(){var t=this;0==this.detatil.favStatus?(console.log("添加收藏"+this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId),console.log("this.detatil.favStatus = "+this.detatil.favStatus),a.default.prototype.$reqFormPost1("/fav/add",{userId:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId},function(e){200!==e.returnCode?(t.$Message.warning(e.message),console.log("网络请求错误！")):(t.$Message.success("收藏成功"),t.getProductDetail())})):(console.log("取消收藏"+this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId),a.default.prototype.$reqFormPost1("/fav/delete",{userId:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsIds:this.goodsId},function(e){200!==e.returnCode?(t.$Message.warning(e.message),console.log("网络请求错误！")):(t.$Message.success("已取消收藏"),t.getProductDetail())}))},e.prototype.addCart=function(){var t=this;this.skuItem.skuId?a.default.prototype.$reqFormPost1("/shop/cart/add",{userId:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId,skuId:this.skuItem.skuId},function(e){if(200!==e.returnCode)return t.$Message.warning(e.message),void console.log("网络请求错误！");t.$Message.success("加入成功"),t.$refs.wintabe.getCartList()}):Object(r.b)("请选择规格属性")},e.prototype.selectSku=function(t,e){var i=this;if(!e.disable){""!=(this.chosenList[t]||"")&&this.chosenList[t]===e.skuValueId?(this.chosenList[t]="",this.chosensku[t]="",this.chosensku.splice(0,this.chosensku.length)):(this.chosenList[t]=e.skuValueId,this.chosensku[t]=e.skuValueName),this.chosenList=this.chosenList,this.skuItem={};if(this.detatil.skuKey.forEach(function(t,e){t.valueList.forEach(function(t,s){t.disable=!0;for(var a=0;a<i.detatil.sku.length;a++)if(i.detatil.sku[a].attrs[e].valueId==t.skuValueId){for(var o=!0,l=0;l<i.detatil.sku[a].attrs.length;l++)if(e!=l&&""!=(i.chosenList[l]||"")&&i.chosenList[l]!=i.detatil.sku[a].attrs[l].valueId){o=!1;break}if(o){t.disable=!1;break}}})}),this.chosenList.length===this.detatil.skuKey.length){if(function(){var t=!0;return i.chosenList.forEach(function(e,i){if(""===e)return t=!1,!1}),t})for(var s=0;s<this.detatil.sku.length;s++)for(var a=0,o=0;o<this.chosenList.length;o++)if(this.chosenList[o]===this.detatil.sku[s].attrs[o].valueId&&(console.log(this.chosenList[o]===this.detatil.sku[s].attrs[o].valueId,this.detatil.sku[s].attrs[o]),(a+=1)===this.chosenList.length)){this.skuItem=this.detatil.sku[s];break}}this.chosenList.push(),this.chosensku.push()}},e.prototype.getProductDetail=function(){var t=this;a.default.prototype.$reqFormPost1("/goods/front/detail",{userId:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId},function(e){if(200==e.returnCode){if(t.detatil=e.data,t.new_detatil=e.data.newList,t.goCoupon=e.data.couponList,console.log("满减",t.goCoupon),console.log("详情",e.data),e.data.singleStatus&&(t.skuItem=e.data.sku[0]),console.log("-----------"),t.commentnum=e.data.commentNum,e.data.commentList.length>0){for(var i=0,s=0;s<e.data.commentList.length;s++)i=e.data.commentList[s].star+i;var a=(i=i/(5*e.data.commentList.length)*100).toFixed(0);t.praise=a}t.tabgoodslist=e.data.likeList,t.likeList=e.data.likeList,t.newList=e.data.newList,t.scale=e.data.scale,t.getstars(e.data.commentStar),t.detatil.skuKey.forEach(function(e,i){e.valueList.forEach(function(e,s){var a={disable:!0,chosen:!1};t.detatil.sku.forEach(function(t,s){if(e.skuValueId===t.attrs[i].valueId)return a.disable=!1,!1}),Object.assign(e,a)})})}else t.$Message.warning(e.message)})},e.prototype.lookPic=function(t){this.click=t,console.log("下标",this.click)},e.prototype.getstars=function(t){for(var e=0;e<t;e++)this.stars[e].src=i("PFYQ"),this.stars[e].active=!0},e=s.b([l()({components:{Wintabe:g.a,Winbeet:h.a,swipeauto:v},mixins:[n.a]})],e)}(a.default),_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"tab-contents",staticStyle:{overflow:"hidden"}},[s("wintabe",{ref:"wintabe",attrs:{table:!0,router:!0}}),t._v(" "),s("div",{staticClass:" flex   flex-pack-center"},[s("div",{staticStyle:{width:"1200px"}},[s("div",{staticClass:"flex  flex-align-center",staticStyle:{width:"100%","background-color":"#f7f7f7",height:"47px",padding:"0 10px","margin-bottom":"10px"}},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),s("el-breadcrumb-item",[t._v(t._s(t.detatil.goodsName))])],1)],1)])]),t._v(" "),s("div",{staticClass:" flex   flex-pack-center"},[s("div",{staticClass:"flex",staticStyle:{width:"1200px"}},[s("div",{staticStyle:{width:"500px"}},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.detatil.goodsImg.split(",")[t.click]}}),t._v(" "),s("div",{staticClass:"flex",staticStyle:{overflow:"auto"}},t._l(t.detatil.goodsImg.split(","),function(e,i){return s("div",{key:i,on:{click:function(e){t.lookPic(i)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],staticStyle:{width:"100px","margin-right":"10px",cursor:"pointer"}})])}))]),t._v(" "),s("div",{staticClass:"flex-1",staticStyle:{padding:"0 10px"}},[s("div",{staticClass:"goodsName"},[t._v("\n  "+t._s(t.detatil.goodsName)+"\n")]),t._v(" "),s("div",{staticStyle:{color:"#a3a3a3"}},[t._v("\n  "+t._s(t.detatil.jingle)+"\n")]),t._v(" "),s("div",{staticStyle:{border:"1px solid #e5e5e5",margin:"20px 0","background-color":"#FCFCFC","font-size":"14px"}},[s("div",{staticClass:"flex flex-align-center",staticStyle:{padding:"10px 0",margin:"0 20px"}},[s("div",{staticStyle:{width:"50px"}},[t._v("价格")]),t._v(" "),s("div",[s("span",{staticClass:"marketPrice",staticStyle:{"font-size":"20px","margin-right":"10px"}},[t._v("￥"+t._s(t.detatil.marketPrice.toFixed(2)))]),t._v(" "),s("span",{staticClass:"labelPrice"},[t._v("原价￥"+t._s(t.detatil.labelPrice))])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"flex flex-align-center",staticStyle:{padding:"10px 0",margin:"0 20px","border-bottom":"1px solid #e5e5e5"}},[t.detatil.couponList&&t.detatil.couponList.length>0?s("div",{staticStyle:{width:"50px"}},[t._v("领券")]):t._e(),t._v(" "),t.detatil.couponList&&t.detatil.couponList.length>0?s("div",{staticClass:"full_bg"},[t._v("\n    "+t._s(t.detatil.couponList[0].couponName)+" \n  ")]):t._e(),t._v(" "),s("div",{staticStyle:{cursor:"pointer"}},[t.detatil.couponList&&t.detatil.couponList.length>0?s("span",{staticStyle:{color:"red"},on:{click:function(e){t.goDiscount()}}},[t._v("立即领取>")]):t._e()]),t._v(" "),s("div")]),t._v(" "),s("div",{staticClass:"flex flex-align-center",staticStyle:{padding:"10px 0",margin:"0 20px"}},[s("div",{staticStyle:{width:"50px"}},[t._v("服务")]),t._v(" "),s("div",{staticClass:"flex flex-around-justify flex-align-center"},t._l(t.detatil.slogan.split(";"),function(e,i){return s("div",{key:i},[s("span",{staticStyle:{margin:"10px"}},[s("span",{staticStyle:{color:"#ffc630","font-weight":"800",margin:"0 5px"}},[t._v("·")]),t._v(" "),s("span",[t._v(t._s(e))])])])}))])]),t._v(" "),s("div",{staticStyle:{"font-size":"14px","max-height":"300px",overflow:"auto"}},t._l(t.detatil.skuKey,function(e,i){return s("div",{key:i,staticClass:"flex  flex-align-center"},[s("div",{staticStyle:{padding:"5px 20px 0",color:"#585858",width:"87px"}},[t._v(t._s(e.skuKeyIdName))]),t._v(" "),s("div",{staticClass:"skuKeyBox"},t._l(e.valueList,function(e,a){return s("div",{key:a},[s("div",{class:t.chosenList[i]===e?"sku_box_select":"sku_box",style:e.disable?"color:#ccc;border-color:#ccc;":""+t.chosenList[i]===e.skuValueId?"border-color:#f4c542;color:#f4c542":"",on:{click:function(s){s.stopPropagation(),t.selectSku(i,e)}}},[t._v(t._s(e.skuValueName))])])}))])})),t._v(" "),s("div",{staticClass:"num_box flex flex-align-center"},[s("div",{staticClass:"flex flex-align-center",staticStyle:{color:"#585858",width:"87px"}},[t._v("数量")]),t._v(" "),s("van-stepper",{staticStyle:{margin:"10px 0px 0px 20px",cursor:"pointer"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),t._v(" "),s("div",{staticClass:"flex"},[s("van-button",{staticStyle:{"border-radius":"4%","background-color":"#fff",color:"#F4C542",border:"1px solid #F4C542","min-width":"150px",height:"54px","margin-right":"10px",overflow:"hidden",cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.addCar()}}},[t._v("立即购买")]),t._v(" "),s("van-button",{staticStyle:{cursor:"pointer","border-radius":"4%","background-color":"#F4C542",color:"#FFFFFF",border:"#F4C542","min-width":"150px",height:"54px"},on:{click:function(e){e.stopPropagation(),t.addCart()}}},[t._v("加入购物车")]),t._v(" "),s("div",[s("div",{class:t.detatil.favStatus?"collection_cur":"collection",on:{click:function(e){e.stopPropagation(),t.updataCollect()}}})])],1)])])]),t._v(" "),s("div",{staticClass:" flex   flex-pack-center"},[s("div",{staticStyle:{width:"1200px","margin-top":"20px"}},[s("div",{staticClass:"flex",staticStyle:{height:"55px","background-color":"#f7f7f7","font-size":"15px","border-bottom":"1px solid #e5e5e5"}},[s("div",{staticClass:"taber",class:"0"==t.new_active?" selecttaber":"taber",on:{click:function(e){t.new_actdiv("0")}}},[t._v("大家还看了")]),t._v(" "),s("div",{staticClass:"taber",class:"1"==t.new_active?" selecttaber":"taber",on:{click:function(e){t.new_actdiv("1")}}},[t._v("新品推荐")])]),t._v(" "),"0"==t.new_active?s("div",{staticStyle:{height:"320px"}},[s("div",{staticClass:"flex",staticStyle:{overflow:"auto"}},t._l(t.tabgoodslist,function(e,a){return s("div",{key:a,on:{click:function(i){t.goProductDetail(e.goodsId)}}},[s("div",{staticClass:"flex flex-pack-center flex-align-center",staticStyle:{"margin-right":"20px","margin-top":"10px",border:"1px #e5e5e5 solid","box-sizing":"border-box",overflow:"hidden",position:"relative",padding:"100px"}},[s("img",{staticStyle:{width:"33px",position:"absolute",top:"0",left:"0","z-index":"2"},attrs:{src:i("HORy")}}),t._v(" "),s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsImg.split(",")[0],expression:"items.goodsImg.split(',')[0]"}],staticStyle:{width:"-webkit-fill-available",position:"absolute",top:"0"}}),t._v(" "),s("div",{staticClass:"textLabel",staticStyle:{position:"absolute",bottom:"0",width:"100%","background-color":"rgba(207,207,207,0.3)","text-align":"center",color:"#A3A3A3",height:"28px","line-height":"28px"}},[t._v(t._s(e.jingle))])]),t._v(" "),s("div",{staticClass:"flex flex-pack-center flex-v",staticStyle:{width:"-webkit-fill-available"}},[t._m(1,!0),t._v(" "),s("div",{staticClass:"textLabel",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.goodsName))]),t._v(" "),s("div",{staticStyle:{color:"#E05459","font-size":"15px"}},[t._v("￥"+t._s(e.marketPrice.toFixed(2)))])])])}))]):t._e(),t._v(" "),"1"==t.new_active?s("div",[s("swipeauto",{ref:"swipeauto",attrs:{lists:t.new_detatil},on:{goProductDetail:t.goProductDetail}})],1):t._e(),t._v(" "),s("div",{staticClass:"flex",staticStyle:{height:"55px","background-color":"#f7f7f7","font-size":"15px","border-bottom":"1px solid #e5e5e5"}},[s("div",{staticClass:"taber",class:"0"==t.shop_active?" selecttaber":"taber",on:{click:function(e){t.shop_active="0"}}},[t._v("商品详情")]),t._v(" "),s("div",{staticClass:"taber",class:"1"==t.shop_active?" selecttaber":"taber",on:{click:function(e){t.shop_active="1"}}},[t._v("评价")])]),t._v(" "),"0"==t.shop_active?s("div",[s("div",{staticStyle:{"background-color":"#ffffff","margin-top":"10px"}},t._l(t.detatil.detail.imageList,function(t,e){return s("div",{key:e},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],staticStyle:{width:"100%"}})])}))]):t._e(),t._v(" "),"1"==t.shop_active?s("div",{staticClass:"evaluate_nav"},[s("div",{staticClass:"nav_top"},[s("div",{staticClass:"evaluate_left"},[s("div",[s("span",[t._v(t._s(t.scale)+"%")]),t._v("好评")]),t._v(" "),s("div",{staticClass:"star"},t._l(t.stars,function(t,e){return s("img",{key:e,staticStyle:{"margin-right":"5px"},attrs:{src:t.src}})}))]),t._v(" "),s("div",{staticClass:"evaluate_right"},[s("h6",[t._v("大家都写到")]),t._v(" "),s("div",{staticClass:"btn_evaluate"},[s("span",{class:"0"==t.btn_active?" btn_border":"",on:{click:function(e){t.btnList("0")}}},[t._v("全部（999+）")]),t._v(" "),s("span",{class:"1"==t.btn_active?" btn_border":"",on:{click:function(e){t.btnList("1")}}},[t._v("有图（666）")])])])]),t._v(" "),t._l(t.appraiseList,function(e,a){return s("div",{key:a,staticClass:"evaluate_list"},[s("div",{staticClass:"flex user"},[s("div",[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.user.userIcon,expression:"item.user.userIcon"}]})]),t._v(" "),s("div",[t._v(t._s(e.user.mobile))]),t._v(" "),t._l(e.star,function(t,e){return s("div",{key:e},[s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("PFYQ")}})])})],2),t._v(" "),t._l(JSON.parse(e.skuKeyValue),function(e){return s("div",{staticClass:"style",staticStyle:{color:"#a1a1a1",display:"inline-block"}},[s("span",[t._v(t._s(e.key)+":"+t._s(e.value))])])}),t._v(" "),s("p",[t._v(t._s(e.commentContent))]),t._v(" "),s("div",{staticClass:"flex evaluate_pic"},[e.commentImg?s("div",[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.commentImg.split(",")[0],expression:"item.commentImg.split(',')[0]"}],staticStyle:{width:"100px",height:"100px","vertical-align":"middle"}})]):t._e()]),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(e.createTime))])],2)})],2):t._e()])]),t._v(" "),s("winbeet")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-align-center",staticStyle:{padding:"10px 0",margin:"0 20px"}},[e("div",{staticStyle:{width:"50px"}},[this._v("限制")]),this._v(" "),e("div",[this._v("此商品不可与优惠券叠加使用")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticStyle:{width:"40px",margin:"10px 0"},attrs:{src:i("ILWi")}}),this._v(" "),e("img",{staticStyle:{width:"40px",margin:"10px 0"},attrs:{src:i("tp/U")}})])}]};var m=i("VU/8")(f,_,!1,function(t){i("bnt3")},"data-v-345ade36",null);e.default=m.exports}});
//# sourceMappingURL=15.beb8d0146b06f0f22919.js.map