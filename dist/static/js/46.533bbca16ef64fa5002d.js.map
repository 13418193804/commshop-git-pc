{"version":3,"sources":["webpack:///./src/pages/comment/goodscomment.vue?b0ea","webpack:///./src/pages/comment/goodscomment.vue?0cf8","webpack:///./src/pages/comment/goodscomment.vue"],"names":["_super","goodscomment","_this","apply","this","arguments","goodsId","status","commentList","praise","stars","src","__webpack_require__","active","tslib_es6","prototype","tab","index","getcommentlist","vue_esm","$reqFormPost","res","data","console","log","message","Object","es","total","i","length","star","getstars","toFixed","praisenum","num","handlePX","CssName","PxNumber","$store","getters","MutationTreeType","SYSTEM","availWidth","mounted","$route","query","vue_class_component_common_default","components","comhead","Comhead","mixins","mixin","pages_comment_goodscomment","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","height","background-color","ref","attrs","isLeftIcon","leftIconName","title","on","leftClick","_v","margin-bottom","padding","margin","_l","key","style","_s","class","click","$event","margin-left","item","border-bottom","user","directives","name","rawName","value","expression","vertical-align","border-radius","nickName","color","font-size","createTime","JSON","parse","skuKeyValue","n","commentContent","commentImg","split","_e","staticRenderFns","Component","normalizeComponent","comment_goodscomment","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/46.533bbca16ef64fa5002d.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport mixin from \"../../config/mixin\";\nimport { Action } from \"vuex-class\";\nimport { Toast } from \"vant\";\nimport comhead from \"../../components/Comhead.vue\";\n\n\n@Component({\n  components: { comhead },\n  mixins: [mixin]\n})\nexport default class goodscomment extends Vue {\n  goodsId=\"\";\n  status=0;\n  commentList=[];\n  praise=\"0\";\n  stars=[{\n                            src: require('../../assets/image/灰色星星.png'),\n                            active: false\n                        }, {\n                            src: require('../../assets/image/灰色星星.png'),\n                            active: false\n                        }, {\n                            src: require('../../assets/image/灰色星星.png'),\n                            active: false\n                        },\n                        {\n                            src: require('../../assets/image/灰色星星.png'),\n                            active: false\n                        }, {\n                            src: require('../../assets/image/灰色星星.png'),\n                            active: false\n                        }\n                    ];\n  \n  tab(index){\n    this.status=index;\n    this.getcommentlist();\n  }\n  getcommentlist(){\n    Vue.prototype.$reqFormPost(\n      \"/comment/list\",\n      {\n        goodsId: this.goodsId,\n        status:this.status\n      },\n      res => {\n        if (res == null) {\n          console.log(\"网络请求错误！\");\n          return;\n        }\n        if (res.data.status != 200) {\n          console.log(\n            \"需控制错误码\" + res.data.status + \",错误信息：\" + res.data.message\n          );\n\n          Toast(res.data.message);\n          return;\n        }\n        this.commentList = res.data.data.commentList;\n        \n        if(this.status==0){\n          var total = 0;\n          for (let i = 0; i < res.data.data.commentList.length; i++) {\n            total = res.data.data.commentList[i].star + total\n          }\n          total=total/(res.data.data.commentList.length*5);\n          if(total==1){\n            this.getstars(5);\n          }else if(0.8<=total&&total<1){\n            this.getstars(4);\n          }else if(0.6<=total&&total<0.8){\n            this.getstars(3);\n          }else if(0.4<=total&&total<0.6){\n            this.getstars(2);\n          }else if(0.2<=total&&total<0.4){\n            this.getstars(1);\n          }else{\n            this.getstars(0);            \n          }\n          total = total* 100;\n          total.toFixed(2)\n          const praisenum = total.toFixed(0)\n          if(res.data.data.commentList.length>0){\n            this.praise = praisenum;\n          }\n        }\n        }\n      ); \n  }\n  getstars(num){\n    for(var i = 0; i < num; i++) {\n      this.stars[i].src = require('../../assets/image/星星.png');\n      this.stars[i].active = true;\n    }\n  }\n\n  handlePX(CssName, PxNumber) {\n    return CssName +\":\" +this.$store.getters[Vue.prototype.MutationTreeType.SYSTEM].availWidth /750 * PxNumber +\"px;\";\n  }\n\n\n  mounted() {\n    this.goodsId = this.$route.query.goodsId;\n    this.getcommentlist();\n      console.log(\"商品评论页\")\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/pages/comment/goodscomment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-contents\",staticStyle:{\"height\":\"-webkit-fill-available\",\"background-color\":\"#fafafa\"}},[_c('comhead',{ref:\"comhead\",attrs:{\"isLeftIcon\":\"icon-zuo\",\"leftIconName\":\"angle-left\",\"title\":\"评论\"},on:{\"leftClick\":false}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-bottom\":\"10px\",\"background-color\":\"#ffffff\"}},[_c('div',{staticClass:\"flex\",staticStyle:{\"padding\":\"15px\"}},[_c('span',[_vm._v(\"评分\")]),_vm._v(\" \"),_c('div',{staticClass:\"star-box\",staticStyle:{\"margin\":\"0 10px\"}},_vm._l((_vm.stars),function(star,index){return _c('img',{key:index,style:(_vm.handlePX('width',43)+_vm.handlePX('height',43)),attrs:{\"src\":star.src}})})),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.praise)+\"%好评\")])]),_vm._v(\" \"),_c('div',{staticClass:\"flex\",staticStyle:{\"padding\":\"10px 15px\"}},[_c('div',{class:_vm.status==0?'tabConactive':'tabCon',on:{\"click\":function($event){_vm.tab(0)}}},[_vm._v(\"全部\")]),_vm._v(\" \"),_c('div',{class:_vm.status==1?'tabConactive':'tabCon',staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":function($event){_vm.tab(1)}}},[_vm._v(\"有图\")])])]),_vm._v(\" \"),_vm._l((_vm.commentList),function(item,index){return _c('div',{key:index},[_c('div',{staticStyle:{\"padding\":\"10px 15px\",\"background-color\":\"#ffffff\",\"border-bottom\":\"1px solid #fafafa\"}},[_c('div',[(item.user.userIcon)?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.user.userIcon),expression:\"item.user.userIcon\"}],staticStyle:{\"vertical-align\":\"middle\",\"border-radius\":\"50%\"},style:(_vm.handlePX('width',65)+_vm.handlePX('height',65))}):_c('img',{staticStyle:{\"vertical-align\":\"middle\",\"border-radius\":\"50%\"},style:(_vm.handlePX('width',65)+_vm.handlePX('height',65)),attrs:{\"src\":require(\"../../assets/image/userIcon.png\")}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.user.nickName))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#999999\",\"font-size\":\"14px\"}},[_vm._v(_vm._s(item.createTime)+\"\\n            \"),_vm._l((JSON.parse(item.skuKeyValue)),function(n){return _c('span',{staticStyle:{\"margin\":\"0 5px\"}},[_vm._v(_vm._s(n.key)+\"：\"+_vm._s(n.value))])})],2),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"5px 0\"}},[_vm._v(_vm._s(item.commentContent))]),_vm._v(\" \"),(item.commentImg)?_c('div',[(item.commentImg.split(',')[0])?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.commentImg.split(',')[0]),expression:\"item.commentImg.split(',')[0]\"}],style:(_vm.handlePX('width',148)+_vm.handlePX('height',148))}):_vm._e(),_vm._v(\" \"),(item.commentImg.split(',')[1])?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.commentImg.split(',')[1]),expression:\"item.commentImg.split(',')[1]\"}],style:(_vm.handlePX('width',148)+_vm.handlePX('height',148))}):_vm._e(),_vm._v(\" \"),(item.commentImg.split(',')[2])?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.commentImg.split(',')[2]),expression:\"item.commentImg.split(',')[2]\"}],style:(_vm.handlePX('width',148)+_vm.handlePX('height',148))}):_vm._e(),_vm._v(\" \"),(item.commentImg.split(',')[3])?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.commentImg.split(',')[3]),expression:\"item.commentImg.split(',')[3]\"}],style:(_vm.handlePX('width',148)+_vm.handlePX('height',148))}):_vm._e(),_vm._v(\" \"),(item.commentImg.split(',')[4])?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.commentImg.split(',')[4]),expression:\"item.commentImg.split(',')[4]\"}],style:(_vm.handlePX('width',148)+_vm.handlePX('height',148))}):_vm._e()]):_vm._e()])])})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-068201d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/comment/goodscomment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-068201d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goodscomment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodscomment.vue\"\nimport __vue_script__ from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodscomment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-068201d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./goodscomment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-068201d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/comment/goodscomment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}