webpackJsonp([47],{H9Nh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("TToO"),i=a("7+uW"),n=a("c+8m"),o=a.n(n),l=a("DZ+H"),c=a("Fd2+"),r=a("TJML"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goodsId="",e.status=0,e.commentList=[],e.praise="0",e.stars=[{src:a("fL+S"),active:!1},{src:a("fL+S"),active:!1},{src:a("fL+S"),active:!1},{src:a("fL+S"),active:!1},{src:a("fL+S"),active:!1}],e}return s.c(e,t),e.prototype.tab=function(t){this.status=t,this.getcommentlist()},e.prototype.getcommentlist=function(){var t=this;i.default.prototype.$reqFormPost("/comment/list",{goodsId:this.goodsId,status:this.status},function(e){if(null!=e){if(200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(c.b)(e.data.message);if(t.commentList=e.data.data.commentList,0==t.status){for(var a=0,s=0;s<e.data.data.commentList.length;s++)a=e.data.data.commentList[s].star+a;1==(a/=5*e.data.data.commentList.length)?t.getstars(5):.8<=a&&a<1?t.getstars(4):.6<=a&&a<.8?t.getstars(3):.4<=a&&a<.6?t.getstars(2):.2<=a&&a<.4?t.getstars(1):t.getstars(0),(a*=100).toFixed(2);var i=a.toFixed(0);e.data.data.commentList.length>0&&(t.praise=i)}}else console.log("网络请求错误！")})},e.prototype.getstars=function(t){for(var e=0;e<t;e++)this.stars[e].src=a("PFYQ"),this.stars[e].active=!0},e.prototype.handlePX=function(t,e){return t+":"+this.$store.getters[i.default.prototype.MutationTreeType.SYSTEM].availWidth/750*e+"px;"},e.prototype.mounted=function(){this.goodsId=this.$route.query.goodsId,this.getcommentlist(),console.log("商品评论页")},e=s.b([o()({components:{comhead:r.a},mixins:[l.a]})],e)}(i.default),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-contents",staticStyle:{height:"-webkit-fill-available","background-color":"#fafafa"}},[s("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",title:"评论"},on:{leftClick:!1}}),t._v(" "),s("div",{staticStyle:{"margin-bottom":"10px","background-color":"#ffffff"}},[s("div",{staticClass:"flex",staticStyle:{padding:"15px"}},[s("span",[t._v("评分")]),t._v(" "),s("div",{staticClass:"star-box",staticStyle:{margin:"0 10px"}},t._l(t.stars,function(e,a){return s("img",{key:a,style:t.handlePX("width",43)+t.handlePX("height",43),attrs:{src:e.src}})})),t._v(" "),s("span",[t._v(t._s(t.praise)+"%好评")])]),t._v(" "),s("div",{staticClass:"flex",staticStyle:{padding:"10px 15px"}},[s("div",{class:0==t.status?"tabConactive":"tabCon",on:{click:function(e){t.tab(0)}}},[t._v("全部")]),t._v(" "),s("div",{class:1==t.status?"tabConactive":"tabCon",staticStyle:{"margin-left":"10px"},on:{click:function(e){t.tab(1)}}},[t._v("有图")])])]),t._v(" "),t._l(t.commentList,function(e,i){return s("div",{key:i},[s("div",{staticStyle:{padding:"10px 15px","background-color":"#ffffff","border-bottom":"1px solid #fafafa"}},[s("div",[e.user.userIcon?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.user.userIcon,expression:"item.user.userIcon"}],staticStyle:{"vertical-align":"middle","border-radius":"50%"},style:t.handlePX("width",65)+t.handlePX("height",65)}):s("img",{staticStyle:{"vertical-align":"middle","border-radius":"50%"},style:t.handlePX("width",65)+t.handlePX("height",65),attrs:{src:a("nqO4")}}),t._v(" "),s("span",[t._v(t._s(e.user.nickName))])]),t._v(" "),s("div",{staticStyle:{color:"#999999","font-size":"14px"}},[t._v(t._s(e.createTime)+"\n            "),t._l(JSON.parse(e.skuKeyValue),function(e){return s("span",{staticStyle:{margin:"0 5px"}},[t._v(t._s(e.key)+"："+t._s(e.value))])})],2),t._v(" "),s("div",{staticStyle:{padding:"5px 0"}},[t._v(t._s(e.commentContent))]),t._v(" "),e.commentImg?s("div",[e.commentImg.split(",")[0]?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.commentImg.split(",")[0],expression:"item.commentImg.split(',')[0]"}],style:t.handlePX("width",148)+t.handlePX("height",148)}):t._e(),t._v(" "),e.commentImg.split(",")[1]?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.commentImg.split(",")[1],expression:"item.commentImg.split(',')[1]"}],style:t.handlePX("width",148)+t.handlePX("height",148)}):t._e(),t._v(" "),e.commentImg.split(",")[2]?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.commentImg.split(",")[2],expression:"item.commentImg.split(',')[2]"}],style:t.handlePX("width",148)+t.handlePX("height",148)}):t._e(),t._v(" "),e.commentImg.split(",")[3]?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.commentImg.split(",")[3],expression:"item.commentImg.split(',')[3]"}],style:t.handlePX("width",148)+t.handlePX("height",148)}):t._e(),t._v(" "),e.commentImg.split(",")[4]?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.commentImg.split(",")[4],expression:"item.commentImg.split(',')[4]"}],style:t.handlePX("width",148)+t.handlePX("height",148)}):t._e()]):t._e()])])})],2)},staticRenderFns:[]};var v=a("VU/8")(m,d,!1,function(t){a("WQ1s")},"data-v-068201d2",null);e.default=v.exports},WQ1s:function(t,e){}});
//# sourceMappingURL=47.e154f8ddf3c8a65aea8d.js.map